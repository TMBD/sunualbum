<!DOCTYPE html>
<html lang="fr"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:t="http://myfaces.apache.org/tomahawk"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:c="http://java.sun.com/jstl/core">
    <h:head>
        <title>Modification d'album</title>
        <h:outputStylesheet library="default" name="css/form.css"  />
        <h:outputStylesheet library="default" name="css/bootstrap.min.css"  />
        <h:outputStylesheet library="default" name="css/commons.css"  />
    </h:head>
    <h:body>
      <f:metadata>
		 <f:viewAction action="#{modificationAlbumBean.init(param['albumId'])}" />
	  </f:metadata>
        <ui:include src="menu_header.xhtml" />
        
        <div class="my-container">
      	  <div class="div-center">
      		<h:form enctype="multipart/form-data" class="cf" id="registration-form">
	         	<h1>Modification d'album</h1>
        			<div class="cf">
        			
		                <h:outputLabel for="theme">Theme <span class="requis">*</span></h:outputLabel><br/>
		                <h:message id="themeMessage" for="theme" errorClass="erreur error-message" />
		                <h:inputText id="theme" value="#{modificationAlbumBean.album.theme}" class="text-input"/>
		                <br />
		                
		                <h:outputLabel for="titre">Titre <span class="requis">*</span></h:outputLabel><br/>
		                <h:message id="titreMessage" for="titre" errorClass="erreur error-message" />
		                <h:inputText id="titre" value="#{modificationAlbumBean.album.titre}" class="text-input"/>
		                <br />
		                
		                <h:outputLabel for="description">Description <span class="requis">*</span></h:outputLabel><br/>
		                <h:message id="descriptionMessage" for="description" errorClass="erreur error-message" />
		                <h:inputText id="description" value="#{modificationAlbumBean.album.description}" class="text-input"/>
		                <br />
		                
		                <h:outputLabel for="motsCles">Mots clés </h:outputLabel><br/>
		                <h:message id="motsClesMessage" for="motsCles" errorClass="erreur error-message" />
		                <h:inputText id="motsCles" value="#{modificationAlbumBean.chaineMotCle}" class="text-input" a:placeholder="liste des mots clés séparés par des espaces"/>
		                <br />
		                
		                <h:outputLabel for="prive">Album privé</h:outputLabel><br/>
		                <h:message id="priveMessage" for="prive" errorClass="erreur error-message" />
		                <h:selectBooleanCheckbox class="checkbox-input" id="prive" value="#{modificationAlbumBean.album.prive}"/>
		                <br />
		
		                <h:outputLabel for="fichier">Emplacement du fichier <span class="requis">*</span></h:outputLabel><br/>
		                <h:message id="fichierMessage" for="fichier" errorClass="erreur error-message" />
		                <t:inputFileUpload id="fichier" value="#{modificationAlbumBean.fichier}" accept="image/*">
		                	<f:validator validatorId="tailleMaxImageValidator" />
		                </t:inputFileUpload>
		                <br />
	                
	                </div>
	                
	                <h:messages globalOnly="true" errorClass="erreur" infoClass="info" /><br />
	                
	                <h:commandButton value="Valider" action="#{modificationAlbumBean.save}" styleClass="sansLabel" class="input-submit"/>
	                <br />
	            
			  </h:form> 
	      	</div>
	      </div>
      
        <c:if test="#{( !empty sessionScope['utilisateur']) and sessionScope['utilisateur'] != null}">
      	  <div class="new-album-photo">
			<div class="new-album" onclick="goToNewAlbum()">Nouvel album</div>
		  </div>
		  
		  <script>
			function goToNewAlbum(){
				window.location.href = "creer_album.xhtml";
			}
          </script>
      </c:if>
	        
    </h:body> 
</html>